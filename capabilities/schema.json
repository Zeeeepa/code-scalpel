{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Code Scalpel Capability Tier Schema",
  "description": "Schema for all tool capabilities at a specific license tier",
  "type": "object",
  "properties": {
    "tier": {
      "type": "string",
      "enum": [
        "community",
        "pro",
        "enterprise"
      ],
      "description": "License tier"
    },
    "generated_at": {
      "type": "string",
      "description": "ISO 8601 timestamp when the capabilities were generated"
    },
    "tool_count": {
      "type": "integer",
      "description": "Total number of tools in this tier"
    },
    "available_count": {
      "type": "integer",
      "description": "Number of tools available in this tier"
    },
    "capabilities": {
      "type": "object",
      "description": "Map of tool IDs to their capability definitions",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "tool_id": {
            "type": "string",
            "description": "Unique tool identifier"
          },
          "tier": {
            "type": "string",
            "enum": [
              "community",
              "pro",
              "enterprise"
            ],
            "description": "License tier"
          },
          "available": {
            "type": "boolean",
            "description": "Whether tool is available at this tier"
          },
          "limits": {
            "type": "object",
            "description": "Limits and parameters for the tool at this tier",
            "additionalProperties": true
          },
          "deprecated": {
            "type": "boolean",
            "description": "Whether the tool is deprecated",
            "default": false
          }
        },
        "required": [
          "tool_id",
          "tier",
          "available"
        ]
      }
    }
  },
  "required": [
    "tier",
    "tool_count",
    "available_count",
    "capabilities"
  ]
}